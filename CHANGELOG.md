# История изменения
Все заметные изменения в этом проекте будут документированы в этом файле

## [1.3.1] — 13.11.2019
### Изменения
- Множество исправлений и улучшений в зависимых библиотеках.
- [Vuetify обновлен до версии 2.1.10](https://github.com/vuetifyjs/vuetify/releases/tag/v2.1.10)
- [Vuex обновлен до версии 3.1.2](https://github.com/vuejs/vuex/releases/tag/v3.1.2)
- [TypeScript обновлен до версиии 3.7.2](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html)

## [1.3.0] — 30.10.2019
### Изменения
- Часть компонентов загружаются не сразу, а только при попадании в область видимости. Это увеличивает скорость отображениея и уменьшиет количество потребляемого трафика на ранних этапах отображения, что позволяет загружаться видео быстрее.
- Кнопки под плеером больше не "прыгают" в стороны. Теперь они всегда на одном и том же месте. 
- Улучшена доступность.
- Удалена система фонового отслеживания ошибок.

## [1.2.0] — 08.10.2019
### Изменения
- Повышена производительность интерфейса.
- Исправлена проблема пролагивания при загрузке страницы
- Добавлен индикатор Full-HD видео.

Так же, я планировал ввести новый способ загрузки интерфейса, чтобы сделать его более плавным и "дружелюбным", но при тестировании обнаружил некоторые пробелмы так что это откладывается на следующий релиз.

## [1.1.6] — 19.09.2019
### Изменения
- Создана отдельная страница с настройками расширения. Теперь можно кликнуть правой кнопкой по иконке расширения и перейти к параметрам. Туда вынесены опции для оправления темой и включения/выключения синхронизации с Шикимори.
- Для тех у кого есть подписка на anime365 теперь есть возможность скачать видео в два клика прямо в интерфейсе расширения.
- Переработано главное меню:
    - Все элементы теперь располагаются не в выпадающем меню а в один ряд под плеером.
    - "Следующая серия" и "Открыть на Шикимори" стали больше.
    - Добавлена ссылка для перехода на отдельную страницу с настройками.
    - Добавлена ссылка для скачивания видео.
    - Удалена кнопка "Сообщить о проблеме с видео".
    - Удалена кнопка для быстрого перехода в историю просмотров.
    - Удалена кнопка для переключения темы.
    - Удалена кнопка для включения/выключения синхронизации с Шикимори.
- Исправлено множество проблем с плеером anime365. 
    - Наверняка многие сталкивались с ситуациями, когда видео не запускалось самостоятельно, или вместо видеоряда автоматически запускалась реклама, или и видео и реклама запускались одновременно перекрикивая друг друга. Однако, после обсуждения этих проблем с разработчиками anime365 был добавлен специальный API, с помощью которого моё расширение может максимально надежно интегрироваться в видеоплейер не ломая его.
- Увеличена производительность и скорость отображения.
- Малозаметные исправления и обновление компонентов.

## [1.1.5] — 13.09.2019
В этой версии я продолжил работу над внутренним хранилищем. В этой версии изменения коснулись процесса загрузки списка серий и их названий.

Я реализовал временный кэш для списка серий. Теперь список серий для онгоингов кэшируется на сутки. А для уже вышедших аниме на более долгий срок. 

Кроме того, в кэше хранится не более 5 последних аниме. Таким образом объем потребляемой памяти остаётся низким.

Благодаря этому нововведению время между началом загрузки страницы и инициализацией видео-плеера уменьшилось на 25-30%.

## [1.1.3] — 11.09.2019
Кто-то знает, а кто-то нет, но расширение умеет предугадывать в каком переводе вы бы предпочли смотреть аниме. Как это работает. Расширение запоминает историю ваших просмотров и то какой перевод (озвучка/субтитры) и от какой релиз-группы вы выбираете. На основе этой модели строиться ваш персонализированный "Профиль предпочтений".И чем больше аниме вы смотрите, тем умнее и точнее работает прогноз.

В предыдущей версии [1.1.2] была добавлена синхронизация этих данных между вашими устройствами. А в нынешней для этой функции нашлось ещё одно применение:
- Теперь, на странице аниме на Шикимори, под кнопкой "Начать просмотр" будет отображаться максимально подходящий для вас перевод. Таким образом, даже не открывая плеер, вы сможете узнать добавлено ли видео от вашей любимой релиз-группы. 

### Другие изменения
- Хранилище данных Google, оказалось недостаточно быстрым. В качестве временного решение я реализовал частичную предзагрузку данных в оперативную память. Как следствие:
  - Увеличена скорость поиска подходящего перевода.
  - Увеличена скорость загрузки истории просмотров.
  - Увеличена скорость загрузки информации о вашем профиле.
- По просьбе [@Ivan](https://t.me/playshikionline_chat/48) я написал небольшой [FAQ](https://github.com/cawa-93/play-shikimori-online/wiki/FAQ) и добавил ссылку на него в интерфейс расширения.
- Исправлена ошибка отображения забаненного пользователя.
- Исправлена ошибка синхронизации списков если пользователь не авторизовался.
- Некоторые изменения, чтобы упростить рендеринг браузеру. 


## [1.1.2] — 09.09.2019

### Изменения
- *Синхронизация ваших избранных переводов*. Теперь расширение будет запоминать какие переводы вы предпочитаете и синхронизировать эту информацию между всеми вашими устройствами.  
- Добавлен механизм ротации (удаление устаревших данных чтобы освободить место для свежих) для внутреннего кэша и для списка избранных переводов. 
- Объем занимаемой памяти уменшился.
- Изменено хранилище для внутреннего кэша.



## [1.1.1] — 06.09.2019

### Изменения
- Добавлены сопровождающие подсказки для формы комментариев.
- Если в тексте комментария присутствуют матерные слова — вы получите предупреждение о том, что за этот комментарий вас могут забанить.
- Добавлены подсказки к кнопкам.
- Несколько незначительных исправлений.



## [1.1.0] — 30.08.2019
Расширение полностью переписано практически с нуля. Для таких радикальных изменений есть несколько причин:
1. С новой архитектурой мне будет проще внедрить те функции которые я планирую.
2. Мне захотелось. 😅

### Визуальные изменения
- Область видео-плеера увеличена. Это сделает просмотр более комфортным для тех, кто по какой-либо причине смотрит аниме не в полноэкранном режиме.
- Высота списка серий и переводов также увеличена. Теперь он вмещает в себя до 12 строк. 12 серий теперь видно без необходимости скролить.
- Доработан внешний вид комментариев. Теперь они менее "плоские".
- Добавлено визуальное оформление для цитат, сообщений про баны, картинок и видео.
- Добавлена возможность ответить на комментарий прямо в интерфейсе расширения.
- Переработана форма нового комментария. Теперь она более минималистична.

### Внутренние изменения
- Расширение переписано на другой язык программирования — TypeScript.
- Используеться новый компилятор. Благодаря этому, несмотря на то, что кодовая база выросла, итоговый вес программы снизился на 10.5%
- Переработано ядро расширения — модуль выполняющий сетевые запросы. 
  - Сетевые запросы в интерфейсе стали быстрее. 
  - Добавлено "Network First" кэширование, что делает программу намного устойчивее к "падению" сервера.
- Более дружелюбные сообщения об исключениях содержат в себе описание и причину проблемы.
- Исправлена масса малозаметных ошибок. 






## [1.0.9] - 20.08.2019
Эта версия посвящена изменениям чтобы соответствовать изменениям в [политике Шикимори](https://shikimori.me/forum/news/290529).
### Изменения
- Изменено название. Теперь расширение называеться "Play Шики Online". Возможно в будущем название смениться ещё раз.
- Новые каналы распространения новостей: 



### Список публичных каналов и их предназначение. 
#### [Telegram] 
- История изменений
- **Все** новости проекта
- Опросы пользователей

#### [VK]
- История изменений
- **Важные** новости проекта
- Обсуждение новинок в комментариях


#### [Telegram chat]
- Обсуждение новинок в общем чате
- Помощь в решении проблем
- Ответы на вопросы
- История изменений
- **Все** новости проекта
- Опросы пользователей


#### [GitHub]
- История изменений
- **Приоритетная** помощь в решении проблем


[1.3.1]: https://github.com/cawa-93/play-shikimori-online/compare/v1.3.0...v1.3.1
[1.3.0]: https://github.com/cawa-93/play-shikimori-online/compare/v1.2.0...v1.3.0
[1.2.0]: https://github.com/cawa-93/play-shikimori-online/compare/v1.1.6...v1.2.0
[1.1.6]: https://github.com/cawa-93/play-shikimori-online/compare/v1.1.5...v1.1.6
[1.1.5]: https://github.com/cawa-93/play-shikimori-online/compare/v1.1.4...v1.1.5
[1.1.3]: https://github.com/cawa-93/play-shikimori-online/compare/v1.1.2...v1.1.3
[1.1.2]: https://github.com/cawa-93/play-shikimori-online/compare/v1.1.1...v1.1.2
[1.1.1]: https://github.com/cawa-93/play-shikimori-online/compare/v1.1.0...v1.1.1
[1.1.0]: https://github.com/cawa-93/play-shikimori-online/compare/v1.0.9...v1.1.0
[1.0.9]: https://github.com/cawa-93/play-shikimori-online/compare/v1.0.8...v1.0.9

[GitHub]: https://github.com/cawa-93/play-shikimori-online
[Telegram]: https://t.me/playshikionline
[VK]: https://vk.com/playshikionline
[Telegram chat]: https://vk.com/playshikionline_chat
